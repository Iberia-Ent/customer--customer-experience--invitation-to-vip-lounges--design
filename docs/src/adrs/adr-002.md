# ADR-002: Microservice to manage Invitations for Card Type

- ***Status***:  ACCEPTED
- ***Deciders***: Jack Toporco, Jos√© Salcedo
- ***Consulted***: Carlos Ruiz

## Decision timeline *(MANDATORY)*

*Shall cover the deadline information for taking a decision.*

|                                         |            |
| --------------------------------------- | ---------- |
| Submitted on                            | 2025-09-15 |

## Context *(MANDATORY)*

- The goal is to manage information related to invitations associated with an Iberia card type.
- The system responsible for managing this information is the IAGL system, which handles the loyalty program for Iberia.
- At the time of writing this ADR, IAGL doesn't yet provide this information.

### Functional Requirements *(OPTINAL)*

- To manage the invitations to fastTrack and lounges it is required to know the number of invitations associated with a specific Iberia card type.

## Decision *(MANDATORY)*

- Develop a tactical internal microservice to manage the number of invitations associated with Iberia card type.
- The microservice will be deployed in CX account and the database will be managed by CX until IAGL provides the required functionality.
- Once IAGL has this information then it will be mandatory to refactor de service to consume IAGL endpoints.

### Justification *(MANDATORY)*

- We can't depend on IAGL endpoints for this development at this time.

### Risks *(OPTIONAL)*

- The main risk is that IAGL never develops this funcionality.
- When IAGL is ready, we may lack the resources to refactor the code accordingly.

## Conclusion *(MANDATORY)*

- Developing this simple microservice enables CX to deliver VIP Invitations on time.
- The code should be dessigned to allow easy refactoring to integrate IAGL endpoints in the future.